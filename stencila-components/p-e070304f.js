const n=(n,e={})=>{const{afterSelf:t}=e;return new Promise((async e=>{var r;if(void 0!==n.dataset.hold&&"MutationObserver"in window)new MutationObserver((([n])=>{var r;void 0===n.target.dataset.hold&&(null===(r=t)||void 0===r||r(),e())})).observe(n,{attributeFilter:["data-hold"],attributes:!0});else if(void 0!==n.getAnimations)Promise.all(n.getAnimations().map((n=>n.finished))).then((()=>{var n;null===(n=t)||void 0===n||n(),e()}));else{const{animationName:o,animationDuration:i,transitionDuration:s}=window.getComputedStyle(n);function a(r){n.addEventListener(`${r}end`,function(r){return function(a){var o;a.target===n&&(n.removeEventListener(`${r}end`,this),null===(o=t)||void 0===o||o(),e())}}(r))}"none"!==o&&"0s"!==i?a("animation"):"0s"!==s?a("transition"):(null===(r=t)||void 0===r||r(),e())}}))},e=n=>n.replace(/([A-Z])/g,"-$1").toLowerCase(),t=(n,e)=>{const t=r(e);for(const[r,a]of Object.entries(t))n.style.setProperty(r,a)},r=(n,t="--",a={})=>{if(null==n)return a;switch(typeof n){case"string":return a[e(t)]=n,a;case"number":return a[e(t)]=n.toString(10),a;case"boolean":return a[e(t)]=n?"1":"0",a}if(Array.isArray(n)||"object"==typeof n){for(let[e,o]of Object.entries(n)){const n=[t,!t.endsWith("-")&&"-",e].filter(Boolean).join("");r(o,n,a)}return a}return a},a=n=>n&&n.nodeType===n.ELEMENT_NODE&&void 0!==n.tagName,o=(n,e)=>void 0!==n.dataset[e];function i(n,e=this){try{return function e(t){if(!t||t===document||t===window)return null;return t.closest(n)||e(t.getRootNode().host)}(e)}catch(t){return null}}const s=n=>{const e=Array.from(n.querySelectorAll("animate-presence")),t=Array.from(n.querySelectorAll(":scope animate-presence animate-presence"));return e.filter((n=>!t.includes(n)))},c=async n=>Promise.all(s(n).map((n=>n.exit()))),u=async n=>Promise.all(s(n).map((n=>n.enter()))),l=()=>{let n=document.head.querySelector("[data-ap-global]");n||(n=document.createElement("style"),n.dataset.apGlobal="",n.textContent='animate-presence>[data-enter][style*="--i:"],animate-presence>[data-exit][style*="--i:"]{animation-fill-mode:both;}',document.head.appendChild(n))};export{u as a,a as b,i as c,c as e,o as h,l as i,n as p,t as s}