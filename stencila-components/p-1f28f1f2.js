import{N as t,e,b as i,T as r,v as s,L as n,s as h,E as l,x as o,f,P as u,y as a,d as c,a as d,t as p,z as k,A as m,m as g,j as b,l as w}from"./p-6c5c4643.js";import{htmlLanguage as L}from"./p-e14d4cd1.js";import"./p-ca64077e.js";import"./p-0a0d477e.js";import"./p-5bfddd9d.js";import"./p-7d5dbd9a.js";import"./p-6d2953a4.js";import"./p-54d6a6c0.js";import"./p-79abbf97.js";import"./p-14b3c6d3.js";class T{constructor(t,e,i,r,s,n,h){this.type=t,this.value=e,this.from=i,this.hash=r,this.end=s,this.children=n,this.positions=h}static create(t,e,i,r,s){return new T(t,e,i,r+(r<<8)+t+(e<<4)|0,s,[],[])}toTree(t,e=this.end){let i=this.children.length-1;i>=0&&(e=Math.max(e,this.positions[i]+this.children[i].length+this.from));let s=new r(t.types[this.type],this.children,this.positions,e-this.from).balance(2048);return Mt(s.children,this.hash),s}copy(){return new T(this.type,this.value,this.from,this.hash,this.end,this.children.slice(),this.positions.slice())}}var S;!function(t){t[t.Document=1]="Document",t[t.CodeBlock=2]="CodeBlock",t[t.FencedCode=3]="FencedCode",t[t.Blockquote=4]="Blockquote",t[t.HorizontalRule=5]="HorizontalRule",t[t.BulletList=6]="BulletList",t[t.OrderedList=7]="OrderedList",t[t.ListItem=8]="ListItem",t[t.ATXHeading1=9]="ATXHeading1",t[t.ATXHeading2=10]="ATXHeading2",t[t.ATXHeading3=11]="ATXHeading3",t[t.ATXHeading4=12]="ATXHeading4",t[t.ATXHeading5=13]="ATXHeading5",t[t.ATXHeading6=14]="ATXHeading6",t[t.SetextHeading1=15]="SetextHeading1",t[t.SetextHeading2=16]="SetextHeading2",t[t.HTMLBlock=17]="HTMLBlock",t[t.LinkReference=18]="LinkReference",t[t.Paragraph=19]="Paragraph",t[t.CommentBlock=20]="CommentBlock",t[t.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",t[t.Escape=22]="Escape",t[t.Entity=23]="Entity",t[t.HardBreak=24]="HardBreak",t[t.Emphasis=25]="Emphasis",t[t.StrongEmphasis=26]="StrongEmphasis",t[t.Link=27]="Link",t[t.Image=28]="Image",t[t.InlineCode=29]="InlineCode",t[t.HTMLTag=30]="HTMLTag",t[t.Comment=31]="Comment",t[t.ProcessingInstruction=32]="ProcessingInstruction",t[t.URL=33]="URL",t[t.HeaderMark=34]="HeaderMark",t[t.QuoteMark=35]="QuoteMark",t[t.ListMark=36]="ListMark",t[t.LinkMark=37]="LinkMark",t[t.EmphasisMark=38]="EmphasisMark",t[t.CodeMark=39]="CodeMark",t[t.CodeInfo=40]="CodeInfo",t[t.LinkTitle=41]="LinkTitle",t[t.LinkLabel=42]="LinkLabel"}(S||(S={}));class B{constructor(t,e){this.start=t,this.content=e,this.marks=[],this.parsers=[]}}class M{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let t=this.skipSpace(this.basePos);this.indent=this.countIndent(t,this.pos,this.indent),this.pos=t,this.next=t==this.text.length?-1:this.text.charCodeAt(t)}skipSpace(t){return I(this.text,t)}reset(t){for(this.text=t,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(t){this.basePos=t,this.baseIndent=this.countIndent(t,this.pos,this.indent)}moveBaseColumn(t){this.baseIndent=t,this.basePos=this.findColumn(t)}addMarker(t){this.markers.push(t)}countIndent(t,e=0,i=0){for(let r=e;r<t;r++)i+=9==this.text.charCodeAt(r)?4-i%4:1;return i}findColumn(t){let e=0;for(let i=0;e<this.text.length&&i<t;e++)i+=9==this.text.charCodeAt(e)?4-i%4:1;return e}scrub(){if(!this.baseIndent)return this.text;let t="";for(let e=0;e<this.basePos;e++)t+=" ";return t+this.text.slice(this.basePos)}}function E(t,e,i){if(i.pos==i.text.length||t!=e.block&&i.indent>=e.stack[i.depth+1].value+i.baseIndent)return!0;if(i.indent>=i.baseIndent+4)return!1;let r=(t.type==S.OrderedList?P:z)(i,e,!1);return r>0&&(t.type!=S.BulletList||j(i,e,!1)<0)&&i.text.charCodeAt(i.pos+r-1)==t.value}const H={[S.Blockquote]:(t,e,i)=>62==i.next&&(i.markers.push(ot(S.QuoteMark,e.lineStart+i.pos,e.lineStart+i.pos+1)),i.moveBase(i.pos+1),t.end=e.lineStart+i.text.length,!0),[S.ListItem]:(t,e,i)=>!(i.indent<i.baseIndent+t.value&&i.next>-1||(i.moveBaseColumn(i.baseIndent+t.value),0)),[S.OrderedList]:E,[S.BulletList]:E,[S.Document]:()=>!0};function C(t){return 32==t||9==t||10==t||13==t}function I(t,e=0){for(;e<t.length&&C(t.charCodeAt(e));)e++;return e}function x(t,e,i){for(;e>i&&C(t.charCodeAt(e-1));)e--;return e}function A(t){if(96!=t.next&&126!=t.next)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;if(e<t.pos+3)return-1;if(96==t.next)for(let i=e;i<t.text.length;i++)if(96==t.text.charCodeAt(i))return-1;return e}function v(t){return 62!=t.next?-1:32==t.text.charCodeAt(t.pos+1)?2:1}function j(t,e,i){if(42!=t.next&&45!=t.next&&95!=t.next)return-1;let r=1;for(let s=t.pos+1;s<t.text.length;s++){let e=t.text.charCodeAt(s);if(e==t.next)r++;else if(!C(e))return-1}return i&&45==t.next&&X(t)>-1&&t.depth==e.stack.length||r<3?-1:1}function y(t,e){return t.block.type==e||t.stack.length>1&&t.stack[t.stack.length-2].type==e}function z(t,e,i){return 45!=t.next&&43!=t.next&&42!=t.next||t.pos!=t.text.length-1&&!C(t.text.charCodeAt(t.pos+1))||!(!i||y(e,S.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?-1:1}function P(t,e,i){let r=t.pos,s=t.next;for(;s>=48&&s<=57;){if(r++,r==t.text.length)return-1;s=t.text.charCodeAt(r)}return r==t.pos||r>t.pos+9||46!=s&&41!=s||r<t.text.length-1&&!C(t.text.charCodeAt(r+1))||i&&!y(e,S.OrderedList)&&(t.skipSpace(r+1)==t.text.length||r>t.pos+1||49!=t.next)?-1:r+1-t.pos}function D(t){if(35!=t.next)return-1;let e=t.pos+1;for(;e<t.text.length&&35==t.text.charCodeAt(e);)e++;if(e<t.text.length&&32!=t.text.charCodeAt(e))return-1;let i=e-t.pos;return i>6?-1:i}function X(t){if(45!=t.next&&61!=t.next||t.indent>=t.baseIndent+4)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;let i=e;for(;e<t.text.length&&C(t.text.charCodeAt(e));)e++;return e==t.text.length?i:-1}const O=/^[ \t]*$/,R=/-->/,N=/\?>/,$=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,R],[/^\s*<\?/,N],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,O],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,O]];function q(t,e,i){if(60!=t.next)return-1;let r=t.text.slice(t.pos);for(let s=0,n=$.length-(i?1:0);s<n;s++)if($[s][0].test(r))return s;return-1}function F(t,e){let i=t.countIndent(e,t.pos,t.indent),r=t.countIndent(t.skipSpace(e),e,i);return r>=i+5?i+1:r}const Z={LinkReference:void 0,IndentedCode(t,e){let i=e.baseIndent+4;if(e.indent<i)return!1;let s=e.findColumn(i),n=t.lineStart+s,h=t.lineStart+e.text.length,l=[],o=[];for(;t.nextLine()&&!(e.depth<t.stack.length);)if(e.pos==e.text.length)for(let t of e.markers)o.push(t);else{if(e.indent<i)break;if(o.length){for(let t of o)l.push(t);o=[]}for(let t of e.markers)l.push(t);h=t.lineStart+e.text.length}o.length&&(e.markers=o.concat(e.markers));let f=!l.length&&t.parser.codeParser&&t.parser.codeParser("");return f?t.startNested(n,f.startParse(t.input.clip(h),n,t.parseContext),(e=>new r(t.parser.nodeSet.types[S.CodeBlock],[e],[0],h-n))):t.addNode(t.buffer.writeElements(l,-n).finish(S.CodeBlock,h-n),n),!0},FencedCode(t,e){let i=A(e);if(i<0)return!1;let r=t.lineStart+e.pos,s=e.next,n=i-e.pos,h=e.skipSpace(i),l=x(e.text,e.text.length,h),o=[ot(S.CodeMark,r,r+n)],f="";h<l&&(o.push(ot(S.CodeInfo,t.lineStart+h,t.lineStart+l)),f=e.text.slice(h,l));let u=o.length,a=u,c=t.lineStart+e.text.length+1,d=-1;for(;t.nextLine()&&!(e.depth<t.stack.length);){for(let t of e.markers)o.push(t);let i=e.pos;if(e.indent-e.baseIndent<4)for(;i<e.text.length&&e.text.charCodeAt(i)==s;)i++;if(i-e.pos>=n&&e.skipSpace(i)==e.text.length){o.push(ot(S.CodeMark,t.lineStart+e.pos,t.lineStart+i)),u++,d=t.lineStart-1,t.nextLine();break}}let p=t.prevLineEnd();d<0&&(d=p);let k=o.length==u&&t.parser.codeParser&&t.parser.codeParser(f);return k&&c<d?t.startNested(r,k.startParse(t.input.clip(d),c,t.parseContext),(t=>(o.splice(a,0,new lt(t,c)),ot(S.FencedCode,r,p,o)))):t.addNode(t.buffer.writeElements(o,-r).finish(S.FencedCode,t.prevLineEnd()-r),r),!0},Blockquote(t,e){let i=v(e);return!(i<0)&&(t.startContext(S.Blockquote,e.pos),t.addNode(S.QuoteMark,t.lineStart+e.pos,t.lineStart+e.pos+1),e.moveBase(e.pos+i),null)},HorizontalRule(t,e){if(j(e,t,!1)<0)return!1;let i=t.lineStart+e.pos;return t.nextLine(),t.addNode(S.HorizontalRule,i),!0},BulletList(t,e){let i=z(e,t,!1);if(i<0)return!1;t.block.type!=S.BulletList&&t.startContext(S.BulletList,e.basePos,e.next);let r=F(e,e.pos+1);return t.startContext(S.ListItem,e.basePos,r-e.baseIndent),t.addNode(S.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+i),e.moveBaseColumn(r),null},OrderedList(t,e){let i=P(e,t,!1);if(i<0)return!1;t.block.type!=S.OrderedList&&t.startContext(S.OrderedList,e.basePos,e.text.charCodeAt(e.pos+i-1));let r=F(e,e.pos+i);return t.startContext(S.ListItem,e.basePos,r-e.baseIndent),t.addNode(S.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+i),e.moveBaseColumn(r),null},ATXHeading(t,e){let i=D(e);if(i<0)return!1;let r=e.pos,s=t.lineStart+r,n=x(e.text,e.text.length,r),h=n;for(;h>r&&e.text.charCodeAt(h-1)==e.next;)h--;h!=n&&h!=r&&C(e.text.charCodeAt(h-1))||(h=e.text.length);let l=t.buffer.write(S.HeaderMark,0,i).writeElements(t.parser.parseInline(e.text.slice(r+i+1,h),s+i+1),-s);h<e.text.length&&l.write(S.HeaderMark,h-r,n-r);let o=l.finish(S.ATXHeading1-1+i,e.text.length-r);return t.nextLine(),t.addNode(o,s),!0},HTMLBlock(t,e){let i=q(e,0,!1);if(i<0)return!1;let s=t.lineStart+e.pos,n=$[i][1],h=[],l=n!=O;for(;!n.test(e.text)&&t.nextLine();){if(e.depth<t.stack.length){l=!1;break}for(let t of e.markers)h.push(t)}l&&t.nextLine();let o=n==R?S.CommentBlock:n==N?S.ProcessingInstructionBlock:S.HTMLBlock,f=t.prevLineEnd();return!h.length&&o==S.HTMLBlock&&t.parser.htmlParser?t.startNested(s,t.parser.htmlParser.startParse(t.input.clip(f),s,t.parseContext),(e=>new r(t.parser.nodeSet.types[o],[e],[0],f-s))):t.addNode(t.buffer.writeElements(h,-s).finish(o,f-s),s),!0},SetextHeading:void 0};class _{constructor(t){this.stage=0,this.elts=[],this.pos=0,this.start=t.start,this.advance(t.content)}nextLine(t,e,i){if(-1==this.stage)return!1;let r=i.content+"\n"+e.scrub(),s=this.advance(r);return s>-1&&s<r.length&&this.complete(t,i,s)}finish(t,e){return(2==this.stage||3==this.stage)&&I(e.content,this.pos)==e.content.length&&this.complete(t,e,e.content.length)}complete(t,e,i){return t.addLeafElement(e,ot(S.LinkReference,this.start,this.start+i,this.elts)),!0}nextStage(t){return t?(this.pos=t.to-this.start,this.elts.push(t),this.stage++,!0):(!1===t&&(this.stage=-1),!1)}advance(t){for(;;){if(-1==this.stage)return-1;if(0==this.stage){if(!this.nextStage(Lt(t,this.pos,this.start,!0)))return-1;if(58!=t.charCodeAt(this.pos))return this.stage=-1;this.elts.push(ot(S.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else{if(1!=this.stage){if(2==this.stage){let e=I(t,this.pos),i=0;if(e>this.pos){let r=wt(t,e,this.start);if(r){let e=U(t,r.to-this.start);e>0&&(this.nextStage(r),i=e)}}return i||(i=U(t,this.pos)),i>0&&i<t.length?i:-1}return U(t,this.pos)}if(!this.nextStage(bt(t,I(t,this.pos),this.start)))return-1}}}}function U(t,e){for(;e<t.length;e++){let i=t.charCodeAt(e);if(10==i)break;if(!C(i))return-1}return e}class Q{nextLine(t,e,i){let r=e.depth<t.stack.length?-1:X(e),s=e.next;if(r<0)return!1;let n=ot(S.HeaderMark,t.lineStart+e.pos,t.lineStart+r);return t.nextLine(),t.addLeafElement(i,ot(61==s?S.SetextHeading1:S.SetextHeading2,i.start,t.prevLineEnd(),[...t.parser.parseInline(i.content,i.start),n])),!0}finish(){return!1}}const V={LinkReference:(t,e)=>91==e.content.charCodeAt(0)?new _(e):null,SetextHeading:()=>new Q},K=[(t,e)=>D(e)>=0,(t,e)=>A(e)>=0,(t,e)=>v(e)>=0,(t,e)=>z(e,t,!0)>=0,(t,e)=>P(e,t,!0)>=0,(t,e)=>j(e,t,!0)>=0,(t,e)=>q(e,0,!0)>=0];class W{constructor(t,e,i){this.from=t,this.parse=e,this.finish=i}}class G{constructor(t,e,i,r){this.parser=t,this.input=e,this.parseContext=r,this.line=new M,this.atEnd=!1,this.nested=null,this.lineStart=i,this.block=T.create(S.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=(null==r?void 0:r.fragments)?new Ht(r.fragments,e):null,this.updateLine(e.lineAfter(this.lineStart))}get pos(){return this.nested?this.nested.parse.pos:this.lineStart}advance(){if(this.nested){let t=this.nested.parse.advance();if(t){let e=this.nested.finish(t);e instanceof ht&&(e=e.toTree(this.parser.nodeSet)),this.addNode(e,this.nested.from),this.nested=null}return null}let{line:t}=this;for(;;){for(;t.depth<this.stack.length;)this.finishContext();for(let e of t.markers)this.addNode(e.type,e.from,e.to);if(t.pos<t.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(t.basePos))return null;t:for(;;){for(let e of this.parser.blockParsers)if(e){let i=e(this,t);if(0!=i){if(1==i)return null;t.forward();continue t}}break}let e=new B(this.lineStart+t.pos,t.text.slice(t.pos));for(let i of this.parser.leafBlockParsers)if(i){let t=i(this,e);t&&e.parsers.push(t)}t:for(;this.nextLine()&&t.pos!=t.text.length;){if(t.indent<t.baseIndent+4)for(let e of Ct.endLeafBlock)if(e(this,t))break t;for(let i of e.parsers)if(i.nextLine(this,t,e))return null;e.content+="\n"+t.scrub();for(let i of t.markers)e.marks.push(i)}return this.finishLeaf(e),null}reuseFragment(t){if(!this.fragments.moveTo(this.lineStart+t,this.lineStart)||!this.fragments.matches(this.block.hash))return!1;let e=this.fragments.takeNodes(this);return!!e&&(this.lineStart+=e,this.lineStart<this.input.length?(this.lineStart++,this.updateLine(this.input.lineAfter(this.lineStart))):(this.atEnd=!0,this.updateLine("")),!0)}nextLine(){return this.lineStart+=this.line.text.length,this.lineStart>=this.input.length?(this.atEnd=!0,this.updateLine(""),!1):(this.lineStart++,this.updateLine(this.input.lineAfter(this.lineStart)),!0)}updateLine(t){let{line:e}=this;for(e.reset(t);e.depth<this.stack.length;e.depth++){let t=this.stack[e.depth],i=this.parser.skipContextMarkup[t.type];if(!i)throw new Error("Unhandled block context "+S[t.type]);if(!i(t,this,e))break;e.forward()}}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(t,e,i=0){this.block=T.create(t,i,this.lineStart+e,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(t,e,i=0){this.startContext(this.parser.getNodeType(t),e,i)}addNode(t,e,i){"number"==typeof t&&(t=new r(this.parser.nodeSet.types[t],st,st,(null!=i?i:this.prevLineEnd())-e)),this.block.children.push(t),this.block.positions.push(e-this.block.from)}addElement(t){this.block.children.push(t.toTree(this.parser.nodeSet)),this.block.positions.push(t.from-this.block.from)}addLeafElement(t,e){this.addNode(this.buffer.writeElements(St(e.children,t.marks),-e.from).finish(e.type,e.to-e.from),e.from)}startNested(t,e,i){this.nested=new W(t,e,i)}finishContext(){this.block=rt(this.stack,this.parser.nodeSet)}finish(){for(;this.stack.length>1;)this.finishContext();return this.block.toTree(this.parser.nodeSet,this.lineStart)}forceFinish(){let t=this.stack.map((t=>t.copy())),e=this.lineStart;if(this.nested){let i=t[t.length-1],s=this.nested.finish(this.nested.parse.forceFinish());s instanceof ht&&(s=s.toTree(this.parser.nodeSet));let n=e-this.nested.from;s.length>n&&(s=new r(s.type,s.children.filter(((t,e)=>s.positions[e]<=n)),s.positions.filter((t=>t<=n)),n)),i.children.push(s),i.positions.push(this.nested.from)}for(;t.length>1;)rt(t,this.parser.nodeSet);return t[0].toTree(this.parser.nodeSet,e)}finishLeaf(t){for(let i of t.parsers)if(i.finish(this,t))return;let e=St(this.parser.parseInline(t.content,t.start),t.marks);this.addNode(this.buffer.writeElements(e,-t.start).finish(S.Paragraph,t.content.length),t.start)}elt(t,e,i,r){return"string"==typeof t?ot(this.parser.getNodeType(t),e,i,r):new lt(t,e)}get buffer(){return new nt(this.parser.nodeSet)}}class J{constructor(t,e,i,r,s,n,h,l,o,f){this.nodeSet=t,this.codeParser=e,this.htmlParser=i,this.blockParsers=r,this.leafBlockParsers=s,this.blockNames=n,this.endLeafBlock=h,this.skipContextMarkup=l,this.inlineParsers=o,this.inlineNames=f,this.nodeTypes=Object.create(null);for(let u of t.types)this.nodeTypes[u.name]=u.id}startParse(t,e=0,i={}){return new G(this,t,e,i)}configure(r){let s=tt(r);if(!s)return this;let{nodeSet:n,skipContextMarkup:h}=this,l=this.blockParsers.slice(),o=this.leafBlockParsers.slice(),f=this.blockNames.slice(),u=this.inlineParsers.slice(),a=this.inlineNames.slice(),c=this.endLeafBlock.slice();if(Y(s.defineNodes)){h=Object.assign({},h);let r=n.types.slice();for(let i of s.defineNodes){let{name:s,block:n,composite:l}="string"==typeof i?{name:i}:i;if(r.some((t=>t.name==s)))continue;l&&(h[r.length]=(t,e,i)=>l(e,i,t.value));let o=r.length,f=l?["Block","BlockContext"]:n?o>=S.ATXHeading1&&o<=S.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;r.push(t.define({id:o,name:s,props:f&&[[e.group,f]]}))}n=new i(r)}if(Y(s.props)&&(n=n.extend(...s.props)),Y(s.remove))for(let t of s.remove){let e=this.blockNames.indexOf(t),i=this.inlineNames.indexOf(t);e>-1&&(l[e]=o[e]=void 0),i>-1&&(u[i]=void 0)}if(Y(s.parseBlock))for(let t of s.parseBlock){let e=f.indexOf(t.name);if(e>-1)l[e]=t.parse,o[e]=t.leaf;else{let e=t.before?et(f,t.before):t.after?et(f,t.after)+1:f.length-1;l.splice(e,0,t.parse),o.splice(e,0,t.leaf),f.splice(e,0,t.name)}t.endLeaf&&c.push(t.endLeaf)}if(Y(s.parseInline))for(let t of s.parseInline){let e=a.indexOf(t.name);if(e>-1)u[e]=t.parse;else{let e=t.before?et(a,t.before):t.after?et(a,t.after)+1:a.length-1;u.splice(e,0,t.parse),a.splice(e,0,t.name)}}return new J(n,s.codeParser||this.codeParser,s.htmlParser||this.htmlParser,l,o,f,c,h,u,a)}getNodeType(t){let e=this.nodeTypes[t];if(null==e)throw new RangeError(`Unknown node type '${t}'`);return e}parseInline(t,e){let i=new Tt(this,t,e);t:for(let r=e;r<i.end;){let t=i.char(r);for(let e of this.inlineParsers)if(e){let s=e(i,t,r);if(s>=0){r=s;continue t}}r++}return i.resolveMarkers(0)}}function Y(t){return null!=t&&t.length>0}function tt(t){if(!Array.isArray(t))return t;if(0==t.length)return null;let e=tt(t[0]);if(1==t.length)return e;let i=tt(t.slice(1));if(!i||!e)return e||i;let r=(t,e)=>(t||st).concat(e||st);return{props:r(e.props,i.props),codeParser:i.codeParser||e.codeParser,htmlParser:i.htmlParser||e.htmlParser,defineNodes:r(e.defineNodes,i.defineNodes),parseBlock:r(e.parseBlock,i.parseBlock),parseInline:r(e.parseInline,i.parseInline),remove:r(e.remove,i.remove)}}function et(t,e){let i=t.indexOf(e);if(i<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return i}let it=[t.none];for(let Gt,Jt=1;Gt=S[Jt];Jt++)it[Jt]=t.define({id:Jt,name:Gt,props:Jt>=S.Escape?[]:[[e.group,Jt in H?["Block","BlockContext"]:["Block","LeafBlock"]]]});function rt(t,e){let i=t.pop(),r=t[t.length-1];return r.children.push(i.toTree(e)),r.positions.push(i.from-r.from),r}const st=[];class nt{constructor(t){this.nodeSet=t,this.content=[],this.nodes=[]}write(t,e,i,r=0){return this.content.push(t,e,i,4+4*r),this}writeElements(t,e=0){for(let i of t)i.writeTo(this,e);return this}finish(t,e){return r.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:t,length:e})}}class ht{constructor(t,e,i,r=st){this.type=t,this.from=e,this.to=i,this.children=r}writeTo(t,e){let i=t.content.length;t.writeElements(this.children,e),t.content.push(this.type,this.from+e,this.to+e,t.content.length+4-i)}toTree(t){return new nt(t).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}}class lt{constructor(t,e){this.tree=t,this.from=e}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return st}writeTo(t,e){t.nodes.push(this.tree),t.content.push(t.nodes.length-1,this.from+e,this.to+e,-1)}toTree(){return this.tree}}function ot(t,e,i,r){return new ht(t,e,i,r)}const ft={resolve:"Emphasis",mark:"EmphasisMark"},ut={resolve:"Emphasis",mark:"EmphasisMark"},at={},ct={};class dt{constructor(t,e,i,r){this.type=t,this.from=e,this.to=i,this.side=r}}const pt="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let kt=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{kt=/[\p{Pc}|\p{Pd}|\p{Pe}|\p{Pf}|\p{Pi}|\p{Po}|\p{Ps}]/u}catch(Wt){}const mt={Escape(t,e,i){if(92!=e||i==t.end-1)return-1;let r=t.char(i+1);for(let s=0;s<pt.length;s++)if(pt.charCodeAt(s)==r)return t.append(ot(S.Escape,i,i+2));return-1},Entity(t,e,i){if(38!=e)return-1;let r=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(i+1,i+31));return r?t.append(ot(S.Entity,i,i+1+r[0].length)):-1},InlineCode(t,e,i){if(96!=e||i&&96==t.char(i-1))return-1;let r=i+1;for(;r<t.end&&96==t.char(r);)r++;let s=r-i,n=0;for(;r<t.end;r++)if(96==t.char(r)){if(n++,n==s&&96!=t.char(r+1))return t.append(ot(S.InlineCode,i,r+1,[ot(S.CodeMark,i,i+s),ot(S.CodeMark,r+1-s,r+1)]))}else n=0;return-1},HTMLTag(t,e,i){if(60!=e||i==t.end-1)return-1;let r=t.slice(i+1,t.end),n=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(r);if(n)return t.append(ot(S.URL,i,i+1+n[0].length));let h=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(r);if(h)return t.append(ot(S.Comment,i,i+1+h[0].length));let l=/^\?[^]*?\?>/.exec(r);if(l)return t.append(ot(S.ProcessingInstruction,i,i+1+l[0].length));let o=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(r);if(!o)return-1;let f=[];if(t.parser.htmlParser){let e,r=t.parser.htmlParser.startParse(s(t.slice(i,i+1+o[0].length)),0,{});for(;!(e=r.advance()););f=e.children.map(((t,r)=>new lt(t,i+e.positions[r])))}return t.append(ot(S.HTMLTag,i,i+1+o[0].length,f))},Emphasis(t,e,i){if(95!=e&&42!=e)return-1;let r=i+1;for(;t.char(r)==e;)r++;let s=t.slice(i-1,i),n=t.slice(r,r+1),h=kt.test(s),l=kt.test(n),o=/\s|^$/.test(s),f=/\s|^$/.test(n),u=!f&&(!l||o||h),a=!o&&(!h||f||l);return t.append(new dt(95==e?ft:ut,i,r,(!u||42!=e&&a&&!h?0:1)|(!a||42!=e&&u&&!l?0:2)))},HardBreak(t,e,i){if(92==e&&10==t.char(i+1))return t.append(ot(S.HardBreak,i,i+2));if(32==e){let e=i+1;for(;32==t.char(e);)e++;if(10==t.char(e)&&e>=i+2)return t.append(ot(S.HardBreak,i,e+1))}return-1},Link:(t,e,i)=>91==e?t.append(new dt(at,i,i+1,1)):-1,Image:(t,e,i)=>33==e&&91==t.char(i+1)?t.append(new dt(ct,i,i+2,1)):-1,LinkEnd(t,e,i){if(93!=e)return-1;for(let r=t.parts.length-1;r>=0;r--){let e=t.parts[r];if(e instanceof dt&&(e.type==at||e.type==ct)){if(!e.side||t.skipSpace(e.to)==i&&!/[(\[]/.test(t.slice(i+1,i+2)))return t.parts[r]=null,-1;let s=t.takeContent(r),n=t.parts[r]=gt(t,s,e.type==at?S.Link:S.Image,e.from,i+1);if(e.type==at)for(let e=0;e<r;e++){let i=t.parts[e];i instanceof dt&&i.type==at&&(i.side=0)}return n.to}}return-1}};function gt(t,e,i,r,s){let{text:n}=t,h=t.char(s),l=s;if(e.unshift(ot(S.LinkMark,r,r+(i==S.Image?2:1))),e.push(ot(S.LinkMark,s-1,s)),40==h){let i,r=t.skipSpace(s+1),h=bt(n,r-t.offset,t.offset);h&&(r=t.skipSpace(h.to),i=wt(n,r-t.offset,t.offset),i&&(r=t.skipSpace(i.to))),41==t.char(r)&&(e.push(ot(S.LinkMark,s,s+1)),l=r+1,h&&e.push(h),i&&e.push(i),e.push(ot(S.LinkMark,r,l)))}else if(91==h){let i=Lt(n,s-t.offset,t.offset,!1);i&&(e.push(i),l=i.to)}return ot(i,r,l,e)}function bt(t,e,i){if(60==t.charCodeAt(e)){for(let r=e+1;r<t.length;r++){let s=t.charCodeAt(r);if(62==s)return ot(S.URL,e+i,r+1+i);if(60==s||10==s)return!1}return null}{let r=0,s=e;for(let e=!1;s<t.length;s++){let i=t.charCodeAt(s);if(C(i))break;if(e)e=!1;else if(40==i)r++;else if(41==i){if(!r)break;r--}else 92==i&&(e=!0)}return s>e?ot(S.URL,e+i,s+i):s==t.length&&null}}function wt(t,e,i){let r=t.charCodeAt(e);if(39!=r&&34!=r&&40!=r)return!1;let s=40==r?41:r;for(let n=e+1,h=!1;n<t.length;n++){let r=t.charCodeAt(n);if(h)h=!1;else{if(r==s)return ot(S.LinkTitle,e+i,n+1+i);92==r&&(h=!0)}}return null}function Lt(t,e,i,r){for(let s=!1,n=e+1,h=Math.min(t.length,n+999);n<h;n++){let h=t.charCodeAt(n);if(s)s=!1;else{if(93==h)return!r&&ot(S.LinkLabel,e+i,n+1+i);if(r&&!C(h)&&(r=!1),91==h)return!1;92==h&&(s=!0)}}return null}class Tt{constructor(t,e,i){this.parser=t,this.text=e,this.offset=i,this.parts=[]}char(t){return t>=this.end?-1:this.text.charCodeAt(t-this.offset)}get end(){return this.offset+this.text.length}slice(t,e){return this.text.slice(t-this.offset,e-this.offset)}append(t){return this.parts.push(t),t.to}addDelimiter(t,e,i,r,s){return this.append(new dt(t,e,i,(r?1:0)|(s?2:0)))}addElement(t){return this.append(t)}resolveMarkers(t){for(let i=t;i<this.parts.length;i++){let e=this.parts[i];if(!(e instanceof dt&&e.type.resolve&&2&e.side))continue;let r,s=e.type==ft||e.type==ut,n=e.to-e.from,h=i-1;for(;h>=t;h--){let t=this.parts[h];if(t instanceof dt&&1&t.side&&t.type==e.type&&!(s&&(1&e.side||2&t.side)&&(t.to-t.from+n)%3==0&&((t.to-t.from)%3||n%3))){r=t;break}}if(!r)continue;let l=e.type.resolve,o=[],f=r.from,u=e.to;if(s){let t=Math.min(2,r.to-r.from,n);f=r.to-t,u=e.from+t,l=1==t?"Emphasis":"StrongEmphasis"}r.type.mark&&o.push(this.elt(r.type.mark,f,r.to));for(let t=h+1;t<i;t++)this.parts[t]instanceof ht&&o.push(this.parts[t]),this.parts[t]=null;e.type.mark&&o.push(this.elt(e.type.mark,e.from,u));let a=this.elt(l,f,u,o);this.parts[h]=s&&r.from!=f?new dt(r.type,r.from,f,r.side):null,(this.parts[i]=s&&e.to!=u?new dt(e.type,u,e.to,e.side):null)?this.parts.splice(i,0,a):this.parts[i]=a}let e=[];for(let i=t;i<this.parts.length;i++){let t=this.parts[i];t instanceof ht&&e.push(t)}return e}findOpeningDelimiter(t){for(let e=this.parts.length-1;e>=0;e--){let i=this.parts[e];if(i instanceof dt&&i.type==t)return e}return null}takeContent(t){let e=this.resolveMarkers(t);return this.parts.length=t,e}skipSpace(t){return I(this.text,t-this.offset)+this.offset}elt(t,e,i,r){return"string"==typeof t?ot(this.parser.getNodeType(t),e,i,r):new lt(t,e)}}function St(t,e){if(!e.length)return t;if(!t.length)return e;let i=t.slice(),r=0;for(let s of e){for(;r<i.length&&i[r].to<s.to;)r++;if(r<i.length&&i[r].from<s.from){let t=i[r];t instanceof ht&&(i[r]=new ht(t.type,t.from,t.to,St(t.children,[s])))}else i.splice(r++,0,s)}return i}const Bt=new WeakMap;function Mt(t,e){for(let i of t)Bt.set(i,e),i instanceof r&&i.type.isAnonymous&&Mt(i.children,e)}const Et=[S.CodeBlock,S.ListItem,S.OrderedList,S.BulletList];class Ht{constructor(t,e){this.fragments=t,this.input=e,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,t.length&&(this.fragment=t[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(t,e){for(;this.fragment&&this.fragment.to<=t;)this.nextFragment();if(!this.fragment||this.fragment.from>(t?t-1:0))return!1;if(this.fragmentEnd<0){let t=this.fragment.to;for(;t>0&&10!=this.input.get(t-1);)t--;this.fragmentEnd=t?t-1:0}let i=this.cursor;i||(i=this.cursor=this.fragment.tree.cursor(),i.firstChild());let r=t+this.fragment.offset;for(;i.to<=r;)if(!i.parent())return!1;for(;;){if(i.from>=r)return this.fragment.from<=e;if(!i.childAfter(r))return!1}}matches(t){let e=this.cursor.tree;return e&&Bt.get(e)==t}takeNodes(t){let e=this.cursor,i=this.fragment.offset,r=t.lineStart,s=r,n=t.block.children.length,h=s,l=n;for(;;){if(e.to-i>=this.fragmentEnd){if(e.type.isAnonymous&&e.firstChild())continue;break}if(t.addNode(e.tree,e.from-i),e.type.is("Block")&&(Et.indexOf(e.type.id)<0?(s=e.to-i,n=t.block.children.length):(s=h,n=l,h=e.to-i,l=t.block.children.length)),!e.nextSibling())break}for(;t.block.children.length>n;)t.block.children.pop(),t.block.positions.pop();return s-r}}const Ct=new J(new i(it),null,null,Object.keys(Z).map((t=>Z[t])),Object.keys(Z).map((t=>V[t])),Object.keys(Z),K,H,Object.keys(mt).map((t=>mt[t])),Object.keys(mt)),It={resolve:"Strikethrough",mark:"StrikethroughMark"},xt={defineNodes:["Strikethrough","StrikethroughMark"],parseInline:[{name:"Strikethrough",parse:(t,e,i)=>126!=e||126!=t.char(i+1)?-1:t.addDelimiter(It,i,i+2,!0,!0),after:"Emphasis"}]};function At(t,e,i=0,r,s=0){let n=0,h=!0,l=-1,o=-1,f=!1,u=()=>{r.push(t.elt("TableCell",s+l,s+o,t.parser.parseInline(e.slice(l,o),s+l)))};for(let a=i;a<e.length;a++){let i=e.charCodeAt(a);124!=i||f?(f||32!=i&&9!=i)&&(l<0&&(l=a),o=a+1):((!h||l>-1)&&n++,h=!1,r&&(l>-1&&u(),r.push(t.elt("TableDelimiter",a+s,a+s+1))),l=o=-1),f=!f&&92==i}return l>-1&&(n++,r&&u()),n}class vt{constructor(){this.rows=null}nextLine(t,e,i){if(null==this.rows){let r;if(this.rows=!1,(45==e.next||58==e.next||124==e.next)&&/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/.test(r=e.text.slice(e.pos))){let s=[];At(t,i.content,0,s,i.start)==At(t,r,e.pos)&&(this.rows=[t.elt("TableHeader",i.start,i.start+i.content.length,s),t.elt("TableDelimiter",t.lineStart+e.pos,t.lineStart+e.text.length)])}}else if(this.rows){let i=[];At(t,e.text,e.pos,i,t.lineStart),this.rows.push(t.elt("TableRow",t.lineStart+e.pos,t.lineStart+e.text.length,i))}return!1}finish(t,e){return!!this.rows&&(this.emit(t,e),!0)}emit(t,e){t.addLeafElement(e,t.elt("Table",e.start,e.start+e.content.length,this.rows))}}const jt={defineNodes:[{name:"Table",block:!0},"TableHeader","TableRow","TableCell","TableDelimiter"],parseBlock:[{name:"Table",leaf:(t,e)=>function(t){for(let e=0;e<t.length;e++){let i=t.charCodeAt(e);if(124==i)return!0;92==i&&e++}return!1}(e.content)?new vt:null,before:"SetextHeading"}]};class yt{nextLine(){return!1}finish(t,e){return t.addLeafElement(e,t.elt("Task",e.start,e.start+e.content.length,[t.elt("TaskMarker",e.start,e.start+3),...t.parser.parseInline(e.content.slice(3),e.start+3)])),!0}}const zt=[jt,{defineNodes:[{name:"Task",block:!0},"TaskMarker"],parseBlock:[{name:"TaskList",leaf:(t,e)=>/^\[[ xX]\]/.test(e.content)&&"ListItem"==t.parser.nodeSet.types[t.block.type].name?new yt:null,after:"SetextHeading"}]},xt];function Pt(t,e,i){return(r,s,n)=>{if(s!=t||r.char(n+1)==t)return-1;let h=[r.elt(i,n,n+1)];for(let l=n+1;l<r.end;l++){let s=r.char(l);if(s==t)return r.addElement(r.elt(e,n,l+1,h.concat(r.elt(i,l,l+1))));if(92==s&&h.push(r.elt("Escape",l,2+l++)),C(s))break}return-1}}const Dt={defineNodes:["Superscript","SuperscriptMark"],parseInline:[{name:"Superscript",parse:Pt(94,"Superscript","SuperscriptMark")}]},Xt={defineNodes:["Subscript","SubscriptMark"],parseInline:[{name:"Subscript",parse:Pt(126,"Subscript","SubscriptMark")}]},Ot={defineNodes:["Emoji"],parseInline:[{name:"Emoji",parse(t,e,i){let r;return 58==e&&(r=/^[a-zA-Z_0-9]+:/.exec(t.slice(i+1,t.end)))?t.addElement(t.elt("Emoji",i,i+1+r[0].length)):-1}}]},Rt=c({block:{open:"\x3c!--",close:"--\x3e"}}),Nt=Ct.configure({props:[d({"Blockquote/...":p.quote,HorizontalRule:p.contentSeparator,"ATXHeading1/... SetextHeading1/...":p.heading1,"ATXHeading2/... SetextHeading2/...":p.heading2,"ATXHeading3/...":p.heading3,"ATXHeading4/...":p.heading4,"ATXHeading5/...":p.heading5,"ATXHeading6/...":p.heading6,"Comment CommentBlock":p.comment,Escape:p.escape,Entity:p.character,"Emphasis/...":p.emphasis,"StrongEmphasis/...":p.strong,"Link/... Image/...":p.link,"OrderedList/... BulletList/...":p.list,"BlockQuote/...":p.quote,"InlineCode/... CodeBlock FencedCode":p.monospace,URL:p.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":p.processingInstruction,"CodeInfo LinkLabel":p.labelName,LinkTitle:p.string,Paragraph:p.content}),g.add((t=>{if(t.is("Block")&&!t.is("Document"))return(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})),b.add({Document:()=>null}),w.add({Document:Rt})],htmlParser:L.parser.configure({dialect:"noMatch"})}),$t=Ft(Nt),qt=Ft(Nt.configure([zt,Xt,Dt,Ot,{props:[d({"TableDelimiter SubscriptMark SuperscriptMark StrikethroughMark":p.processingInstruction,"TableHeader/...":p.heading,"Strikethrough/...":p.strikethrough,TaskMarker:p.atom,Task:p.list,Emoji:p.character,"Subscript Superscript":p.special(p.content),TableCell:p.content})]}]));function Ft(t){return new n(Rt,t,t.nodeSet.types.find((t=>"Document"==t.name)))}function Zt(t,e){return e.sliceString(t.from,t.from+50)}function _t(t,e,i){let r=[];for(let h=t;h&&"Document"!=h.name;h=h.parent)"ListItem"!=h.name&&"Blockquote"!=h.name||r.push(h);let s=[],n=0;for(let h=r.length-1;h>=0;h--){let t,l=r[h];if("Blockquote"==l.name&&(t=/^\s*> ?/.exec(e.slice(n))))s.push({from:n,string:t[0],node:l}),n+=t[0].length;else if("ListItem"==l.name&&"OrderedList"==l.parent.name&&(t=/^\s*\d+([.)])\s*/.exec(Zt(l,i)))){let i=t[1].length>=4?t[0].length-t[1].length+1:t[0].length;s.push({from:n,string:e.slice(n,n+i).replace(/\S/g," "),node:l}),n+=i}else if("ListItem"==l.name&&"BulletList"==l.parent.name&&(t=/^\s*[-+*] (\s*)/.exec(Zt(l,i)))){let i=t[1].length>=4?t[0].length-t[1].length:t[0].length;s.push({from:n,string:e.slice(n,n+i).replace(/\S/g," "),node:l}),n+=i}}return s}const Ut=({state:t,dispatch:e})=>{let i=h(t),r=null,s=t.changeByRange((e=>{if(e.empty&&qt.isActiveAt(t,e.from)){let r=t.doc.lineAt(e.from),s=_t(i.resolve(e.from,-1),r.text,t.doc),n=e.from,h=[];if(s.length){let i=s[s.length-1],o=i.from+i.string.length,f=e.from-r.from>=o&&!/\S/.test(r.text.slice(o,e.from-r.from));if(f){let t=/List/.test(i.node.name)?i.from:o;for(;t>0&&/\s/.test(r.text[t-1]);)t--;n=r.from+t}if("ListItem"==i.node.name){if(f&&r.from>0&&!/[^\s>]/.test(t.doc.lineAt(r.from-1).text))return{range:l.cursor(n),changes:{from:n,to:e.from}};n<e.from&&i.node.parent.from==i.node.from?i.string="":(i.string=i.node.from>=r.from?r.text.slice(i.from,i.from+i.string.length):/^\s*/.exec(r.text)[0].slice(0,i.string.length),"OrderedList"==i.node.parent.name&&n==e.from&&(i.string=i.string.replace(/\d+/,(t=>+t+1)),function(t,e,i){for(let r=-1,s=t;;){if("ListItem"==s.name){let t=/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(s.from,s.from+10));if(!t)return;let n=+t[2];if(r>=0){if(n!=r+1)return;i.push({from:s.from+t[1].length,to:s.from+t[0].length,insert:String(r+2)})}r=n}let t=s.nextSibling;if(!t)break;s=t}}(i.node,t.doc,h)))}}let f=s.map((t=>t.string)).join("");return e.from-r.from<f.length&&(f=""),h.push({from:n,to:e.from,insert:o.of(["",f])}),{range:l.cursor(n+1+f.length),changes:h}}return r={range:e}}));return!r&&(e(t.update(s,{scrollIntoView:!0})),!0)},Qt=({state:t,dispatch:e})=>{let i=h(t),r=null,s=t.changeByRange((e=>{if(e.empty&&qt.isActiveAt(t,e.from)){let r=t.doc.lineAt(e.from),s=_t(i.resolve(e.from,-1),r.text,t.doc);if(s.length){let t=s[s.length-1],i=t.from+t.string.length;if(e.from>i+r.from&&!/\S/.test(r.text.slice(i,e.from-r.from)))return{range:l.cursor(i+r.from),changes:{from:i+r.from,to:e.from}};if(e.from-r.from==i){let s=r.from+t.from;if("ListItem"==t.node.name&&t.node.parent.from<t.node.from&&/\S/.test(r.text.slice(t.from,i)))return{range:e,changes:{from:s,to:s+t.string.length,insert:t.string}};if(s<e.from)return{range:l.cursor(s),changes:{from:s,to:e.from}}}}}return r={range:e}}));return!r&&(e(t.update(s,{scrollIntoView:!0})),!0)},Vt=[{key:"Enter",run:Ut},{key:"Backspace",run:Qt}];function Kt(t={}){let{codeLanguages:e,defaultCodeLanguage:i,addKeymap:r=!0,base:{parser:s}=$t}=t,n=t.extensions?[t.extensions]:[];if(!(s instanceof J))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");var h,l;return(e||i)&&n.push((h=e||[],l=i,{codeParser(t){let e=t&&k.matchLanguageName(h,t,!0);return e?e.support?e.support.language.parser:m.getSkippingParser(e.load()):l?l.parser:null}})),new f(Ft(s.configure(n)),r?u.extend(a.of(Vt)):[])}export{$t as commonmarkLanguage,Qt as deleteMarkupBackward,Ut as insertNewlineContinueMarkup,Kt as markdown,Vt as markdownKeymap,qt as markdownLanguage}