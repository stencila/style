import{P as O,C as t,E as e}from"./p-79abbf97.js";import{e as r,h as s,j as n,m as a,a as d,t as l,f as o,s as $}from"./p-6c5c4643.js";import"./p-ca64077e.js";import"./p-0a0d477e.js";import"./p-5bfddd9d.js";import"./p-7d5dbd9a.js";import"./p-6d2953a4.js";import"./p-54d6a6c0.js";function k(O){return 45==O||46==O||58==O||O>=65&&O<=90||95==O||O>=97&&O<=122||O>=161}let i=null,u=null,c=0;function f(O,t){if(c==t&&u==O)return i;let e=O.get(t);for(;9==(r=e)||10==r||13==r||32==r;)e=O.get(++t);var r;let s=t;for(;k(e);)e=O.get(++t);return u=O,c=t,i=t>s?O.read(s,t).toLowerCase():null}function P(O,t){this.name=O,this.parent=t,this.hash=t?t.hash:0;for(let e=0;e<O.length;e++)this.hash+=(this.hash<<4)+O.charCodeAt(e)+(O.charCodeAt(e)<<8)}const g=new t({start:null,shift:(O,t,e,r)=>1==t?new P(f(e,r.pos)||"",O):O,reduce:(O,t)=>9==t&&O?O.parent:O,reuse(O,t,e,r){let s=t.type.id;return 1==s||11==s?new P(f(e,r.pos-t.length+1)||"",O):O},hash:O=>O?O.hash:0,strict:!1}),T=new e(((O,t,e)=>{let r=t.start;if(60!=O.get(r++))return;let s=O.get(r);if(47==s){r++;let s=f(O,r);if(!s)return t.accept(4,r);if(e.context&&s==e.context.name)return t.accept(2,r);for(let O=e.context;O;O=O.parent)if(O.name==s)return;t.accept(3,r)}else if(33!=s&&63!=s)return t.accept(1,r)}));function p(O,t){return new e(((e,r)=>{let s=r.start,n=0;for(;;){let O=e.get(s);if(O<0)break;if(s++,O==t.charCodeAt(n)){if(n++,n==t.length){s-=t.length;break}}else n=0}s>r.start&&r.accept(O,s)}))}const v=p(35,"--\x3e"),w=p(36,"?>"),W=p(37,"?>"),b=O.deserialize({version:13,states:"-OOQOaOOOcObO'#CbOkOdO'#CcOOOP'#Cu'#CuOsOaO'#DSO!XOaOOOOOQ'#Cv'#CvO!aObO,58|OOOP,58|,58|OOOS'#Cw'#CwO!iOdO,58}OOOP,58},58}OOOP-E6s-E6sO!qO`O'#CgO!yOqO'#CeOOOP'#Ce'#CeO#kOaO'#CxQ#|OPOOO$ROaOOOOOQ-E6t-E6tOOOP1G.h1G.hOOOS-E6u-E6uOOOP1G.i1G.iOOOO'#Cy'#CyO$aO`O,59RO$iO!bO,59RO$wOhO'#CpO%PO`O'#CqOOOP'#D['#D[OOOP'#C|'#C|O!yOqO,59PO%XO`O'#CrOOOP,59P,59POOOP,59d,59dOOOP-E6v-E6vO#|OPOOOOOO-E6w-E6wO%aO!bO1G.mO%aO!bO1G.mO%oO`O'#CiO%wO!bO'#CzO&VO!bO1G.mOOOP1G.m1G.mOOOP1G.z1G.zOOOW'#C}'#C}O&bOhO,59[OOOP,59[,59[O&jO`O,59]O&rO`O,59]OOOP-E6z-E6zOOOP1G.k1G.kO&zO`O,59^O'SO`O,59^O'[O!bO7+$XO'jO!bO7+$XOOOP7+$X7+$XOOOP7+$f7+$fO'uO`O,59TO'}O`O,59TO(VO!bO,59fOOOO-E6x-E6xOOOW-E6{-E6{OOOP1G.v1G.vO(eO`O1G.wO(eO`O1G.wOOOP1G.w1G.wO(mO`O1G.xO(mO`O1G.xOOOP1G.x1G.xO(uO!bO<<GsOOOP<<Gs<<GsOOOP<<HQ<<HQO'}O`O1G.oO'}O`O1G.oO)QO#tO'#ClOOOO1G.o1G.oO)`O`O7+$cOOOP7+$c7+$cO)hO`O7+$dOOOP7+$d7+$dOOOPAN=_AN=_OOOPAN=lAN=lO'}O`O7+$ZOOOO7+$Z7+$ZOOOO'#C{'#C{O)pO#tO,59WOOOO,59W,59WOOOP<<G}<<G}OOOP<<HO<<HOOOOO<<Gu<<GuOOOO-E6y-E6yOOOO1G.r1G.r",stateData:"*O~OxPOyRO{QOPvPWvP~OsUOwWO~OtXOzZO~OxPOyRO{QOPvXWvXrvX~OP]OWbO~OsUOwdO~OtXOzfO~O[iOygO~OP]OQoORkOSlOalOblOclOxPO{QO!QjO~OxPOyRO{QOPvPrvP~OP]O~OxPOyRO{QOPvP~O[uOygO~OYzO^wOg{OygO~Ou|O!P!OO~O[!QOygO~O[!UOygO~OY!XO^wOg!YOygO~O_![OygO~OygOYnX^nXgnX~OY!XO^wOg!YO~Ou|O!P!`O~O[!aOygO~OY!cOygO~O[!dOygO~OY!fOygO~OY!hO^wOg!iOygO~OY!hO^wOg!iO~O_!jOygO~OygO|!lO~OygOYna^nagna~OY!oOygO~OY!qOygO~OY!rO^wOg!sO~Oa!vOb!vO|!xO}!vO~OY!yOygO~OY!zOygO~Oa!vOb!vO|!}O}!vO~O",goto:"&R!PPPPPPP!Q!QP![P!eP!lPP!uPPP!W!W#PP#V#^#f#l#r#y%R%b%h%nPPPP%tPPPPPPP%}WROS`bTl^nU`TasTl^nZ^T^ans_xiuvy!V!W!gQ!m![S!u!j!kR!{!tQp^R!SnZ_T^ansUSO`bR[SQVPRcVQYQReYSaTsRraQh]jthv!P!T!V!Z!]!b!e!k!n!p!tQviQ!PkQ!ToQ!VuQ!ZwQ!]xQ!b!QQ!e!UQ!k![Q!n!aQ!p!dR!t!jQyiS!WuvU!^y!W!gR!g!VQ!w!lR!|!wQn^R!RnQ}jR!_}QTOQq`RsbTm^n",nodeNames:"âš  StartTag StartCloseTag StartCloseTag StartCloseTag Document Comment ProcessingInst DoctypeDecl Element EndTag OpenTag TagName Attribute AttributeName Is AttributeValue EntityReference CharacterReference Text Cdata MismatchedCloseTag CloseTag SelfCloseEndTag SelfClosingTag",maxTerm:48,context:g,nodeProps:[[r.closedBy,1,"SelfCloseEndTag EndTag",11,"CloseTag"],[r.openedBy,10,"StartTag StartCloseTag",22,"OpenTag",23,"StartTag"]],skippedNodes:[0],repeatNodeCount:9,tokenData:"Bk~R!WOX$kXY%rYZ%rZ]$k]^%r^p$kpq%rqr$krs&tsv$kvw'Uw}$k}!O(q!O!P$k!P!Q*n!Q![$k![!]+z!]!^$k!^!_/s!_!`=i!`!a>U!a!b>q!b!c$k!c!}+z!}#P$k#P#Q?}#Q#R$k#R#S+z#S#T$k#T#o+z#o%W$k%W%o+z%o%p$k%p&a+z&a&b$k&b1p+z1p4U$k4U4d+z4d4e$k4e$IS+z$IS$I`$k$I`$Ib+z$Ib$Kh$k$Kh%#t+z%#t&/x$k&/x&Et+z&Et&FV$k&FV;'S+z;'S;:jAz;:j?&r$k?&r?Ah+z?Ah?BY$k?BY?Mn+z?Mn~$kY$rUcQ}WOr$krs%Usv$kw!^$k!^!_%d!_~$kQ%ZRcQOv%Uw!^%U!_~%UW%iR}WOr%dsv%dw~%d_%{]cQ}WyTOX$kXY%rYZ%rZ]$k]^%r^p$kpq%rqr$krs%Usv$kw!^$k!^!_%d!_~$kZ&{R|XcQOv%Uw!^%U!_~%U~'XTOp'hqs'hst(Pt!]'h!^~'h~'kTOp'hqs'ht!]'h!]!^'z!^~'h~(POa~~(SROp(]q!](]!^~(]~(`SOp(]q!](]!]!^(l!^~(]~(qOb~Z(xWcQ}WOr$krs%Usv$kw}$k}!O)b!O!^$k!^!_%d!_~$kZ)iWcQ}WOr$krs%Usv$kw!^$k!^!_%d!_!`$k!`!a*R!a~$kZ*[UwPcQ}WOr$krs%Usv$kw!^$k!^!_%d!_~$k^*uWcQ}WOr$krs%Usv$kw!^$k!^!_%d!_!`$k!`!a+_!a~$k^+hUgScQ}WOr$krs%Usv$kw!^$k!^!_%d!_~$k_,V}^S[PcQ}WOr$krs%Usv$kw}$k}!O+z!O!P+z!P!Q$k!Q![+z![!]+z!]!^$k!^!_%d!_!c$k!c!}+z!}#R$k#R#S+z#S#T$k#T#o+z#o$}$k$}%O+z%O%W$k%W%o+z%o%p$k%p&a+z&a&b$k&b1p+z1p4U+z4U4d+z4d4e$k4e$IS+z$IS$I`$k$I`$Ib+z$Ib$Je$k$Je$Jg+z$Jg$Kh$k$Kh%#t+z%#t&/x$k&/x&Et+z&Et&FV$k&FV;'S+z;'S;:j/S;:j?&r$k?&r?Ah+z?Ah?BY$k?BY?Mn+z?Mn~$k_/ZWcQ}WOr$krs%Usv$kw!^$k!^!_%d!_;=`$k;=`<%l+z<%l~$kZ/xU}WOq%dqr0[sv%dw!a%d!a!b=X!b~%dZ0aZ}WOr%dsv%dw}%d}!O1S!O!f%d!f!g1x!g!}%d!}#O5s#O#W%d#W#X:k#X~%dZ1XT}WOr%dsv%dw}%d}!O1h!O~%dZ1oRxR}WOr%dsv%dw~%dX1}T}WOr%dsv%dw!q%d!q!r2^!r~%dX2cT}WOr%dsv%dw!e%d!e!f2r!f~%dX2wT}WOr%dsv%dw!v%d!v!w3W!w~%dX3]T}WOr%dsv%dw!{%d!{!|3l!|~%dX3qT}WOr%dsv%dw!r%d!r!s4Q!s~%dX4VT}WOr%dsv%dw!g%d!g!h4f!h~%dX4kV}WOr4frs5Qsv4fvw5Qw!`4f!`!a5c!a~4fP5TRO!`5Q!`!a5^!a~5QP5cOWPX5jRWP}WOr%dsv%dw~%dY5xV}WOr%dsv%dw!e%d!e!f6_!f#V%d#V#W8w#W~%dY6dT}WOr%dsv%dw!f%d!f!g6s!g~%dY6xT}WOr%dsv%dw!c%d!c!d7X!d~%dY7^T}WOr%dsv%dw!v%d!v!w7m!w~%dY7rT}WOr%dsv%dw!c%d!c!d8R!d~%dY8WT}WOr%dsv%dw!}%d!}#O8g#O~%dY8nR}W!QQOr%dsv%dw~%dY8|T}WOr%dsv%dw#W%d#W#X9]#X~%dY9bT}WOr%dsv%dw#T%d#T#U9q#U~%dY9vT}WOr%dsv%dw#h%d#h#i:V#i~%dY:[T}WOr%dsv%dw#T%d#T#U8R#U~%dX:pT}WOr%dsv%dw#c%d#c#d;P#d~%dX;UT}WOr%dsv%dw#V%d#V#W;e#W~%dX;jT}WOr%dsv%dw#h%d#h#i;y#i~%dX<OT}WOr%dsv%dw#m%d#m#n<_#n~%dX<dT}WOr%dsv%dw#d%d#d#e<s#e~%dX<xT}WOr%dsv%dw#X%d#X#Y4f#Y~%dZ=`R{R}WOr%dsv%dw~%dZ=rU_PcQ}WOr$krs%Usv$kw!^$k!^!_%d!_~$k_>_UYTcQ}WOr$krs%Usv$kw!^$k!^!_%d!_~$kZ>xWcQ}WOr$krs%Usv$kw!^$k!^!_%d!_!`$k!`!a?b!a~$kZ?kUzPcQ}WOr$krs%Usv$kw!^$k!^!_%d!_~$kZ@UWcQ}WOr$krs%Usv$kw!^$k!^!_%d!_#P$k#P#Q@n#Q~$kZ@uWcQ}WOr$krs%Usv$kw!^$k!^!_%d!_!`$k!`!aA_!a~$kZAhU!PPcQ}WOr$krs%Usv$kw!^$k!^!_%d!_~$k_BRWcQ}WOr$krs%Usv$kw!^$k!^!_%d!_;=`$k;=`<%l+z<%l~$k",tokenizers:[T,v,w,W,0,1,2,3],topRules:{Document:[0,5]},tokenPrec:0});function Q(O,t){let e=t&&t.getChild("TagName");return e?O.sliceString(e.from,e.to):""}function m(O,t){let e=t&&t.firstChild;return e&&"OpenTag"==e.name?Q(O,e):""}function h(O){for(let t=O&&O.parent;t;t=t.parent)if("Element"==t.name)return t;return null}class y{constructor(O,t,e){this.attrs=t,this.attrValues=e,this.children=[],this.name=O.name,this.completion=Object.assign(Object.assign({type:"type"},O.completion||{}),{label:this.name}),this.openCompletion=Object.assign(Object.assign({},this.completion),{label:"<"+this.name}),this.closeCompletion=Object.assign(Object.assign({},this.completion),{label:"</"+this.name+">",boost:2}),this.closeNameCompletion=Object.assign(Object.assign({},this.completion),{label:this.name+">"}),this.text=O.textContent?O.textContent.map((O=>({label:O,type:"text"}))):[]}}const C=/^[:\-\.\w\u00b7-\uffff]*$/;function _(O){return Object.assign(Object.assign({type:"property"},O.completion||{}),{label:O.name})}function z(O){return"string"==typeof O?{label:`"${O}"`,type:"constant"}:/^"/.test(O.label)?O:Object.assign(Object.assign({},O),{label:`"${O.label}"`})}function U(O,t){let e=[],r=[],s=Object.create(null);for(let l of t){let O=_(l);e.push(O),l.global&&r.push(O),l.values&&(s[l.name]=l.values.map(z))}let n=[],a=[],d=Object.create(null);for(let l of O){let O=r,t=s;l.attributes&&(O=O.concat(l.attributes.map((O=>"string"==typeof O?e.find((t=>t.label==O))||{label:O,type:"property"}:(O.values&&(t==s&&(t=Object.create(t)),t[O.name]=O.values.map(z)),_(O))))));let o=new y(l,O,t);d[o.name]=o,n.push(o),l.top&&a.push(o)}a.length||(a=n);for(let l=0;l<n.length;l++){let t=O[l],e=n[l];if(t.children)for(let O of t.children)d[O]&&e.children.push(d[O]);else e.children=n}return O=>{var t;let{doc:e}=O.state,l=function(O,t){var e;let r=$(O).resolve(t,-1),s=null;for(let n=r;!s&&n.parent;n=n.parent)"OpenTag"!=n.name&&"CloseTag"!=n.name&&"SelfClosingTag"!=n.name&&"MismatchedCloseTag"!=n.name||(s=n);if(s&&(s.to>t||s.lastChild.type.isError)){let O=s.parent;if("TagName"==r.name)return"CloseTag"==s.name||"MismatchedCloseTag"==s.name?{type:"closeTag",from:r.from,context:O}:{type:"openTag",from:r.from,context:h(O)};if("AttributeName"==r.name)return{type:"attrName",from:r.from,context:s};if("AttributeValue"==r.name)return{type:"attrValue",from:r.from,context:s};let e=r==s||"Attribute"==r.name?r.childBefore(t):r;return"StartTag"==(null==e?void 0:e.name)?{type:"openTag",from:t,context:h(O)}:"StartCloseTag"==(null==e?void 0:e.name)&&e.to<=t?{type:"closeTag",from:t,context:O}:"Is"==(null==e?void 0:e.name)?{type:"attrValue",from:t,context:s}:e?{type:"attrName",from:t,context:s}:null}if("StartCloseTag"==r.name)return{type:"closeTag",from:t,context:r.parent};for(;r.parent&&r.to==t&&!(null===(e=r.lastChild)||void 0===e?void 0:e.type.isError);)r=r.parent;return"Element"==r.name||"Text"==r.name||"Document"==r.name?{type:"tag",from:t,context:"Element"==r.name?r:h(r)}:null}(O.state,O.pos);if(!l||"tag"==l.type&&!O.explicit)return null;let{type:o,from:k,context:i}=l;if("openTag"==o){let O=a,t=m(e,i);if(t){let e=d[t];O=(null==e?void 0:e.children)||n}return{from:k,options:O.map((O=>O.completion)),span:C}}if("closeTag"==o){let r=m(e,i);return r?{from:k,to:O.pos+(">"==e.sliceString(O.pos,O.pos+1)?1:0),options:[(null===(t=d[r])||void 0===t?void 0:t.closeNameCompletion)||{label:r+">",type:"type"}],span:C}:null}if("attrName"==o){let O=d[Q(e,i)];return{from:k,options:(null==O?void 0:O.attrs)||r,span:C}}if("attrValue"==o){let t=function(O,t,e){let r=t&&t.getChildren("Attribute").find((O=>O.from<=e&&O.to>=e)),s=r&&r.getChild("AttributeName");return s?O.sliceString(s.from,s.to):""}(e,i,k);if(!t)return null;let r=d[Q(e,i)],n=((null==r?void 0:r.attrValues)||s)[t];return n&&n.length?{from:k,to:O.pos+('"'==e.sliceString(O.pos,O.pos+1)?1:0),options:n,span:/^"[^"]*"?$/}:null}if("tag"==o){let t=m(e,i),r=d[t],s=[],l=i&&i.lastChild;!t||l&&"CloseTag"==l.name&&Q(e,l)==t||s.push(r?r.closeCompletion:{label:"</"+t+">",type:"type",boost:2});let o=s.concat(((null==r?void 0:r.children)||(i?n:a)).map((O=>O.openCompletion)));if(i&&(null==r?void 0:r.text.length)){let t=i.firstChild;t.to>O.pos-20&&!/\S/.test(O.state.sliceDoc(t.to,O.pos))&&(o=o.concat(r.text))}return{from:k,options:o,span:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}return null}}const R=s.define({parser:b.configure({props:[n.add({Element(O){let t=/^\s*<\//.test(O.textAfter);return O.lineIndent(O.state.doc.lineAt(O.node.from))+(t?0:O.unit)},"OpenTag CloseTag SelfClosingTag":O=>O.column(O.node.from)+O.unit}),a.add({Element(O){let t=O.firstChild,e=O.lastChild;return t&&"OpenTag"==t.name?{from:t.to,to:"CloseTag"==e.name?e.from:O.to}:null}}),d({AttributeValue:l.string,Text:l.content,"StartTag StartCloseTag EndTag SelfCloseEndTag":l.angleBracket,TagName:l.tagName,"MismatchedCloseTag/Tagname":[l.tagName,l.invalid],AttributeName:l.propertyName,UnquotedAttributeValue:l.string,Is:l.definitionOperator,"EntityReference CharacterReference":l.character,Comment:l.blockComment,ProcessingInst:l.processingInstruction,DoctypeDecl:l.documentMeta,Cdata:l.special(l.string)})]}),languageData:{commentTokens:{block:{open:"\x3c!--",close:"--\x3e"}},indentOnInput:/^\s*<\/$/}});function S(O={}){return new o(R,R.data.of({autocomplete:U(O.elements||[],O.attributes||[])}))}export{U as completeFromSchema,S as xml,R as xmlLanguage}