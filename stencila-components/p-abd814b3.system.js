var __extends=this&&this.__extends||function(){var t=function(e,n){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))t[n]=e[n]};return t(e,n)};return function(e,n){if(typeof n!=="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function s(){this.constructor=e}e.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}();System.register(["./p-9247141b.system.js","./p-c4c9d738.system.js","./p-f89c7fc9.system.js","./p-291b7cf4.system.js","./p-1ba9f457.system.js","./p-be456e54.system.js","./p-216a0e8d.system.js"],(function(t){"use strict";var e,n,s,i,r,o,a,h,u,p,f,l;return{setters:[function(t){e=t.c;n=t.L;s=t.d;i=t.i;r=t.s;o=t.T;a=t.N;h=t.a;u=t.l;p=t.g;f=t.b;l=t.t},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){function c(t,n,s,i,r){if(i===void 0){i=0}if(r===void 0){r=0}if(n==null){n=t.search(/[^\s\u00a0]/);if(n==-1)n=t.length}return e(t.slice(i,n),r,s)}var g=function(){function t(t,e,n){this.string=t;this.tabSize=e;this.indentUnit=n;this.pos=0;this.start=0;this.lastColumnPos=0;this.lastColumnValue=0}t.prototype.eol=function(){return this.pos>=this.string.length};t.prototype.sol=function(){return this.pos==0};t.prototype.peek=function(){return this.string.charAt(this.pos)||undefined};t.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};t.prototype.eat=function(t){var e=this.string.charAt(this.pos);var n;if(typeof t=="string")n=e==t;else n=e&&(t instanceof RegExp?t.test(e):t(e));if(n){++this.pos;return e}};t.prototype.eatWhile=function(t){var e=this.pos;while(this.eat(t)){}return this.pos>e};t.prototype.eatSpace=function(){var t=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>t};t.prototype.skipToEnd=function(){this.pos=this.string.length};t.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1){this.pos=e;return true}};t.prototype.backUp=function(t){this.pos-=t};t.prototype.column=function(){if(this.lastColumnPos<this.start){this.lastColumnValue=c(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue};t.prototype.indentation=function(){return c(this.string,null,this.tabSize)};t.prototype.match=function(t,e,n){if(typeof t=="string"){var s=function(t){return n?t.toLowerCase():t};var i=this.string.substr(this.pos,t.length);if(s(i)==s(t)){if(e!==false)this.pos+=t.length;return true}else return null}else{var r=this.string.slice(this.pos).match(t);if(r&&r.index>0)return null;if(r&&e!==false)this.pos+=r[0].length;return r}};t.prototype.current=function(){return this.string.slice(this.start,this.pos)};return t}();t("StringStream",g);function v(t){return{token:t.token,blankLine:t.blankLine||function(){},startState:t.startState||function(){return true},copyState:t.copyState||d,indent:t.indent||function(){return null},languageData:t.languageData||{}}}function d(t){if(typeof t!="object")return t;var e={};for(var n in t){var s=t[n];e[n]=s instanceof Array?s.slice():s}return e}var m=function(t){__extends(e,t);function e(e){var n=this;var r=s(e.languageData);var o=v(e);var a=function(t,e,s){return new w(n,t,e,s)};n=t.call(this,r,{startParse:a},D(r),[i.of((function(t,e){return n.getIndent(t,e)}))])||this;n.streamParser=o;n.stateAfter=new WeakMap;return n}e.define=function(t){return new e(t)};e.prototype.getIndent=function(t,e){var n=r(t.state),s=n.resolve(e);while(s&&s.type!=this.topNode)s=s.parent;if(!s)return null;var i=y(this,n,0,s.from,e),o,a;if(i){a=i.state;o=i.pos+1}else{a=this.streamParser.startState(t.unit);o=0}if(e-o>1e4)return null;while(o<e){var h=t.state.doc.lineAt(o),u=Math.min(e,h.to);if(h.length){var p=new g(h.text,t.state.tabSize,t.unit);while(p.pos<u-h.from)S(this.streamParser.token,p,a)}else{this.streamParser.blankLine(a,t.unit)}if(u==e)break;o=h.to+1}var f=t.state.doc.lineAt(e).text;return this.streamParser.indent(a,/^\s*(.*)/.exec(f)[1],t)};Object.defineProperty(e.prototype,"allowsNesting",{get:function(){return false},enumerable:false,configurable:true});return e}(n);t("StreamLanguage",m);function y(t,e,n,s,i){var r=n>=s&&n+e.length<=i&&t.stateAfter.get(e);if(r)return{state:t.streamParser.copyState(r),pos:n+e.length};for(var a=e.children.length-1;a>=0;a--){var h=e.children[a],u=n+e.positions[a];var p=h instanceof o&&u<i&&y(t,h,u,s,i);if(p)return p}return null}function k(t,e,n,s,i){if(i&&n<=0&&s>=e.length)return e;if(!i&&e.type==t.topNode)i=true;for(var r=e.children.length-1;r>=0;r--){var a=e.positions[r]+n,h=e.children[r],u=void 0;if(a<s&&h instanceof o){if(!(u=k(t,h,n-a,s-a,i)))break;return!i?u:new o(e.type,e.children.slice(0,r).concat(u),e.positions.slice(0,r+1),a+u.length)}}return null}function b(t,e,n,s){for(var i=0,r=e;i<r.length;i++){var a=r[i];var h=a.from<=n&&a.to>n&&y(t,a.tree,0-a.offset,n,a.to),u=void 0;if(h&&(u=k(t,a.tree,n+a.offset,h.pos+a.offset,false)))return{state:h.state,tree:u}}return{state:t.streamParser.startState(p(s)),tree:o.empty}}var w=function(){function t(t,e,n,s){this.lang=t;this.input=e;this.startPos=n;this.context=s;this.chunks=[];this.chunkPos=[];this.chunk=[];var i=b(t,s.fragments,n,s.state),r=i.state,o=i.tree;this.state=r;this.pos=this.chunkStart=n+o.length;if(o.length){this.chunks.push(o);this.chunkPos.push(0)}if(this.pos<s.viewport.from-1e5){this.state=this.lang.streamParser.startState(p(s.state));s.skipUntilInView(this.pos,s.viewport.from);this.pos=s.viewport.from}}t.prototype.advance=function(){var t=Math.min(this.context.viewport.to,this.input.length,this.chunkStart+2048);while(this.pos<t)this.parseLine();if(this.chunkStart<this.pos)this.finishChunk();if(t<this.input.length&&this.pos<this.context.viewport.to)return null;this.context.skipUntilInView(this.pos,this.input.length);return this.finish()};t.prototype.parseLine=function(){var t=this.input.lineAfter(this.pos),e=this.lang.streamParser;var n=new g(t,this.context?this.context.state.tabSize:4,p(this.context.state));if(n.eol()){e.blankLine(this.state,n.indentUnit)}else{while(!n.eol()){var s=S(e.token,n,this.state);if(s)this.chunk.push(N(s),this.pos+n.start,this.pos+n.pos,4)}}this.pos+=t.length;if(this.pos<this.input.length)this.pos++};t.prototype.finishChunk=function(){var t=o.build({buffer:this.chunk,start:this.chunkStart,length:this.pos-this.chunkStart,nodeSet:_,topID:0,maxBufferLength:2048});this.lang.stateAfter.set(t,this.lang.streamParser.copyState(this.state));this.chunks.push(t);this.chunkPos.push(this.chunkStart-this.startPos);this.chunk=[];this.chunkStart=this.pos};t.prototype.finish=function(){return new o(this.lang.topNode,this.chunks,this.chunkPos,this.pos-this.startPos).balance()};t.prototype.forceFinish=function(){return this.finish()};return t}();function S(t,e,n){e.start=e.pos;for(var s=0;s<10;s++){var i=t(e,n);if(e.pos>e.start)return i}throw new Error("Stream parser failed to advance stream.")}var P=Object.create(null);var x=[a.none];var _=new f(x);var j=[];function N(t){return!t?0:P[t]||(P[t]=z(t))}for(var A=0,C=[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","typeName"],["attribute","propertyName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]];A<C.length;A++){var L=C[A],O=L[0],U=L[1];P[O]=N(U)}function V(t,e){if(j.indexOf(t)>-1)return;j.push(t);console.warn(e)}function z(t){var e;var n=null;for(var s=0,i=t.split(".");s<i.length;s++){var r=i[s];var o=l[r];if(!o){V(r,"Unknown highlighting tag "+r)}else if(typeof o=="function"){if(!n)V(r,"Modifier "+r+" used at start of tag");else n=o(n)}else{if(n)V(r,"Tag "+r+" used as modifier");else n=o}}if(!n)return 0;var u=t.replace(/ /g,"_"),p=a.define({id:x.length,name:u,props:[h((e={},e[u]=n,e))]});x.push(p);return p.id}function D(t){var e=a.define({id:x.length,name:"Document",props:[u.add((function(){return t}))]});x.push(e);return e}}}}));